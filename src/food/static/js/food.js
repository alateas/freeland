// Generated by CoffeeScript 1.4.0
(function() {
  var add_action, get_portions;

  add_action = function(event_object) {
    var meal_block, portion;
    meal_block = $(event_object.target).parent();
    portion = meal_block.children('.portions').val();
    return meal_block.children('ul').append("<li>" + portion + "</li>");
  };

  get_portions = function(portions) {
    var portion, _i, _len, _results;
    _results = [];
    for (_i = 0, _len = portions.length; _i < _len; _i++) {
      portion = portions[_i];
      _results.push($('.portions').append(new Option(portion.title, portion.title, false, false)));
    }
    return _results;
  };

  $(function() {
    $.getJSON('/food/ajax_portions', get_portions);
    return $('.add').click(add_action);
  });

}).call(this);
